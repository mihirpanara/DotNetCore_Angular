{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/acount.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction NavComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 5)(2, \"a\", 9);\n    i0.ɵɵtext(3, \"Maches\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 5)(5, \"a\", 10);\n    i0.ɵɵtext(6, \"Lists\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\", 5)(8, \"a\", 11);\n    i0.ɵɵtext(9, \"Messages\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NavComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"button\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 14)(5, \"li\")(6, \"a\", 15);\n    i0.ɵɵtext(7, \"Edit Profile\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"li\")(9, \"a\", 16);\n    i0.ɵɵtext(10, \"Another action\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"li\", 17);\n    i0.ɵɵlistener(\"click\", function NavComponent_div_10_Template_li_click_11_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(12, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Welcome \", i0.ɵɵpipeBind1(3, 1, user_r3.username), \" \");\n  }\n}\n\nfunction NavComponent_form_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 18, 19);\n    i0.ɵɵlistener(\"ngSubmit\", function NavComponent_form_12_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.login());\n    });\n    i0.ɵɵelementStart(2, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function NavComponent_form_12_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.model.username = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function NavComponent_form_12_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.model.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 22);\n    i0.ɵɵtext(5, \"Login\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.model.username);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.model.password);\n  }\n}\n\nexport class NavComponent {\n  constructor(accountService, router, toastr) {\n    this.accountService = accountService;\n    this.router = router;\n    this.toastr = toastr;\n    this.model = {};\n  }\n\n  ngOnInit() {}\n\n  login() {\n    this.accountService.login(this.model).subscribe({\n      next: response => {\n        this.router.navigateByUrl('/members');\n      },\n      error: err => {\n        console.log(err);\n        this.toastr.error(err.error);\n      }\n    });\n  }\n\n  logout() {\n    this.accountService.logout();\n    this.router.navigateByUrl('/');\n  }\n\n}\n\nNavComponent.ɵfac = function NavComponent_Factory(t) {\n  return new (t || NavComponent)(i0.ɵɵdirectiveInject(i1.AcountService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\n\nNavComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavComponent,\n  selectors: [[\"app-nav\"]],\n  decls: 14,\n  vars: 9,\n  consts: [[1, \"navbar\", \"navbar-expand-md\", \"navbar-dark\", \"fixed-top\", \"bg-dark\"], [1, \"container\"], [\"routerLink\", \"/\", 1, \"navbar-brand\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-md-0\"], [4, \"ngIf\"], [1, \"nav-item\"], [\"routerLink\", \"/errors\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"class\", \"dropdown\", 4, \"ngIf\"], [\"class\", \"d-flex\", \"autocomplete\", \"off\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"routerLink\", \"/members\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"routerLink\", \"/lists\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"routerLink\", \"/messages\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [1, \"dropdown\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", 1, \"btn\", \"btn-secondary\", \"dropdown-toggle\"], [1, \"dropdown-menu\"], [\"routerLink\", \"/member/edit\", 1, \"dropdown-item\"], [\"href\", \"#\", 1, \"dropdown-item\"], [1, \"dropdown-item\", 3, \"click\"], [\"autocomplete\", \"off\", 1, \"d-flex\", 3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [\"name\", \"username\", \"type\", \"text\", \"placeholder\", \"Username\", 1, \"form-control\", \"me-2\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"password\", \"type\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", \"me-2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\"]],\n  template: function NavComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵtext(3, \"Dating App\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ul\", 3);\n      i0.ɵɵtemplate(5, NavComponent_ng_container_5_Template, 10, 0, \"ng-container\", 4);\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵelementStart(7, \"li\", 5)(8, \"a\", 6);\n      i0.ɵɵtext(9, \" Errors \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(10, NavComponent_div_10_Template, 13, 3, \"div\", 7);\n      i0.ɵɵpipe(11, \"async\");\n      i0.ɵɵtemplate(12, NavComponent_form_12_Template, 6, 2, \"form\", 8);\n      i0.ɵɵpipe(13, \"async\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 3, ctx.accountService.currentUser$));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 5, ctx.accountService.currentUser$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(13, 7, ctx.accountService.currentUser$) === null);\n    }\n  },\n  dependencies: [i4.NgIf, i2.RouterLinkWithHref, i2.RouterLinkActive, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i4.AsyncPipe, i4.TitleCasePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuYXYuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAOUA;IACEA,8BAAqB,CAArB,EAAqB,GAArB,EAAqB,CAArB;IACsEA;IAAMA;IAE5EA,8BAAqB,CAArB,EAAqB,GAArB,EAAqB,EAArB;IACoEA;IAAKA;IAEzEA,8BAAqB,CAArB,EAAqB,GAArB,EAAqB,EAArB;IACuEA;IAAQA;IAEjFA;;;;;;;;IAOFA,gCAA4E,CAA5E,EAA4E,QAA5E,EAA4E,EAA5E;IAEIA;;IACFA;IACAA,+BAA0B,CAA1B,EAA0B,IAA1B,EAA0B,CAA1B,EAA0B,GAA1B,EAA0B,EAA1B;IACyDA;IAAYA;IACnEA,2BAAI,CAAJ,EAAI,GAAJ,EAAI,EAAJ;IAAsCA;IAAcA;IACpDA;IAA0BA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IAAmBA;IAAMA;;;;;IALnDA;IAAAA;;;;;;;;IAQJA;IAAiGA;MAAAA;MAAA;MAAA,OAAYA,8BAAZ;IAAmB,CAAnB;IAC/FA;IAEAA;MAAAA;MAAA;MAAA,OAAaA,8CAAb;IACL,CADK;IAFAA;IAKAA;IAEEA;MAAAA;MAAA;MAAA,OAAaA,+CAAb;IACP,CADO;IAFFA;IAIAA;IAAsDA;IAAKA;;;;;IAP3DA;IAAAA;IAKEA;IAAAA;;;;AC9BZ,OAAM,MAAOC,YAAP,CAAmB;EAIvBC,YAAmBC,cAAnB,EAAyDC,MAAzD,EAAgFC,MAAhF,EAAoG;IAAjF;IAAsC;IAAuB;IAFhF,aAAY,EAAZ;EAEyG;;EAEzGC,QAAQ,IACP;;EAEDC,KAAK;IACH,KAAKJ,cAAL,CAAoBI,KAApB,CAA0B,KAAKC,KAA/B,EAAsCC,SAAtC,CAAgD;MAC9CC,IAAI,EAAEC,QAAQ,IAAG;QACf,KAAKP,MAAL,CAAYQ,aAAZ,CAA0B,UAA1B;MACD,CAH6C;MAI9CC,KAAK,EAAEC,GAAG,IAAE;QACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACA,KAAKT,MAAL,CAAYQ,KAAZ,CAAkBC,GAAG,CAACD,KAAtB;MACD;IAP6C,CAAhD;EASD;;EAEDI,MAAM;IACJ,KAAKd,cAAL,CAAoBc,MAApB;IACA,KAAKb,MAAL,CAAYQ,aAAZ,CAA0B,GAA1B;EACD;;AAxBsB;;;mBAAZX,cAAYD;AAAA;;;QAAZC;EAAYiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZzBtB,+BAAmE,CAAnE,EAAmE,KAAnE,EAAmE,CAAnE,EAAmE,CAAnE,EAAmE,GAAnE,EAAmE,CAAnE;MAE6CA;MAAUA;MAI/CA;MACEA;;MAWAA,8BAAqB,CAArB,EAAqB,GAArB,EAAqB,CAArB;MACsEA;MAAOA;MAK/EA;;MAUAA;;MAaJA;;;;MAxCqBA;MAAAA;MAiBMA;MAAAA;MAUfA;MAAAA","names":["i0","NavComponent","constructor","accountService","router","toastr","ngOnInit","login","model","subscribe","next","response","navigateByUrl","error","err","console","log","logout","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Mihir\\Git\\DotNetCore_Angular\\DatingApp\\client\\src\\app\\nav\\nav.component.html","D:\\Mihir\\Git\\DotNetCore_Angular\\DatingApp\\client\\src\\app\\nav\\nav.component.ts"],"sourcesContent":["<nav class=\"navbar navbar-expand-md navbar-dark fixed-top bg-dark\">\r\n    <div class=\"container\">\r\n      <a class=\"navbar-brand\" routerLink=\"/\">Dating App</a>\r\n      \r\n      \r\n      \r\n        <ul class=\"navbar-nav me-auto mb-2 mb-md-0\">\r\n          <ng-container *ngIf=\"accountService.currentUser$ | async\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" routerLink='/members' routerLinkActive='active'>Maches</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" routerLink='/lists' routerLinkActive='active'>Lists</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" routerLink='/messages' routerLinkActive='active'>Messages</a>\r\n            </li>\r\n          </ng-container>\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" routerLink='/errors' routerLinkActive='active'> Errors </a>\r\n          </li>\r\n        </ul>\r\n\r\n        \r\n        <div class=\"dropdown\" *ngIf=\"(accountService.currentUser$ | async) as user\">\r\n          <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\">\r\n            Welcome {{user.username | titlecase}}\r\n          </button>\r\n          <ul class=\"dropdown-menu\">\r\n            <li><a class=\"dropdown-item\" routerLink=\"/member/edit\">Edit Profile</a></li>\r\n            <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\r\n            <li class=\"dropdown-item\" (click)=\"logout()\">Logout</li>\r\n          </ul>\r\n        </div>\r\n        <form  *ngIf=\"(accountService.currentUser$ | async) === null\" #loginForm=\"ngForm\" class=\"d-flex\" (ngSubmit)=\"login()\" autocomplete=\"off\" >\r\n          <input \r\n          name=\"username\"\r\n          [(ngModel)]=\"model.username\"\r\n          class=\"form-control me-2\" \r\n          type=\"text\" placeholder=\"Username\" >\r\n          <input \r\n            name=\"password\"\r\n            [(ngModel)]=\"model.password\"\r\n            class=\"form-control me-2\" type=\"password\" placeholder=\"Password\" >\r\n          <button class=\"btn btn-outline-success\" type=\"submit\">Login</button>\r\n        </form>\r\n      \r\n    </div>\r\n  </nav>","import { Component, OnInit } from '@angular/core';\r\nimport { AcountService } from '../_services/acount.service';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../_models/user';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-nav',\r\n  templateUrl: './nav.component.html',\r\n  styleUrls: ['./nav.component.css']\r\n})\r\nexport class NavComponent implements OnInit {\r\n\r\n  model:any = {};\r\n\r\n  constructor(public accountService: AcountService,private router: Router,private toastr:ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  login(){\r\n    this.accountService.login(this.model).subscribe({\r\n      next: response =>{\r\n        this.router.navigateByUrl('/members');\r\n      } ,\r\n      error: err=> {\r\n        console.log(err);\r\n        this.toastr.error(err.error);\r\n      }\r\n    })\r\n  }\r\n\r\n  logout(){\r\n    this.accountService.logout();\r\n    this.router.navigateByUrl('/');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}